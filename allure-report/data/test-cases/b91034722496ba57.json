{"uid":"b91034722496ba57","name":"Agregar Sauce Labs Bolt T-Shirt al carrito","fullName":"tests.test_cart#test_add_sauce_labs_bolt_tshirt_to_cart","historyId":"174502b804f8f0348fbd1a86d0d43251","time":{"start":1727197712963,"stop":1727197717807,"duration":4844},"description":"Este test verifica que al agregar el producto Sauce Labs Bolt T-Shirt al carrito se obtiene un error.","descriptionHtml":"<p>Este test verifica que al agregar el producto Sauce Labs Bolt T-Shirt al carrito se obtiene un error.</p>\n","status":"failed","statusMessage":"Failed: No se pudo agregar el producto al carrito: Se esperaba 1 producto en el carrito, pero se encontró 0\nassert '0' == '1'\n  \n  - 1\n  + 0","statusTrace":"browser_type_launch = <Browser type=<BrowserType name=firefox executable_path=C:\\Users\\Aquiles\\AppData\\Local\\ms-playwright\\firefox-1463\\firefox\\firefox.exe> version=130.0>\n\n    @pytest.mark.cart\n    @allure.title(\"Agregar Sauce Labs Bolt T-Shirt al carrito\")\n    @allure.description(\"Este test verifica que al agregar el producto Sauce Labs Bolt T-Shirt al carrito se obtiene un error.\")\n    @allure.tag(\"cart\", \"critical\")\n    def test_add_sauce_labs_bolt_tshirt_to_cart(browser_type_launch):\n        browser = browser_type_launch\n        context = browser.new_context(record_video_dir=\"videos/\")\n        page = context.new_page()\n    \n        # Ir a la página e intentar iniciar sesión con credenciales incorrectas\n        page.goto(URL)\n        page.fill(\"input[name='user-name']\", \"error_user\")\n        page.fill(\"input[name='password']\", \"secret_sauce\")\n        page.click(\"input[name='login-button']\")\n    \n        # Verificar si el login fue exitoso\n        login_error = page.locator(\"h3[data-test='error']\").count()\n        assert login_error == 0, \"El usuario no pudo iniciar sesión correctamente.\"\n    \n        # Intentar agregar el producto Sauce Labs Bolt T-Shirt al carrito\n        try:\n            add_to_cart_button = page.locator(\"button[data-test='add-to-cart-sauce-labs-bolt-t-shirt']\")\n            assert add_to_cart_button.is_visible(), \"El botón para agregar al carrito no está disponible.\"\n            add_to_cart_button.click()\n    \n            updated_cart_count = page.locator(\".shopping_cart_badge\").inner_text() if page.locator(\".shopping_cart_badge\").count() > 0 else \"0\"\n>           assert updated_cart_count == \"1\", f\"Se esperaba 1 producto en el carrito, pero se encontró {updated_cart_count}\"\nE           AssertionError: Se esperaba 1 producto en el carrito, pero se encontró 0\nE           assert '0' == '1'\nE             \nE             - 1\nE             + 0\n\ntests\\test_cart.py:128: AssertionError\n\nDuring handling of the above exception, another exception occurred:\n\nbrowser_type_launch = <Browser type=<BrowserType name=firefox executable_path=C:\\Users\\Aquiles\\AppData\\Local\\ms-playwright\\firefox-1463\\firefox\\firefox.exe> version=130.0>\n\n    @pytest.mark.cart\n    @allure.title(\"Agregar Sauce Labs Bolt T-Shirt al carrito\")\n    @allure.description(\"Este test verifica que al agregar el producto Sauce Labs Bolt T-Shirt al carrito se obtiene un error.\")\n    @allure.tag(\"cart\", \"critical\")\n    def test_add_sauce_labs_bolt_tshirt_to_cart(browser_type_launch):\n        browser = browser_type_launch\n        context = browser.new_context(record_video_dir=\"videos/\")\n        page = context.new_page()\n    \n        # Ir a la página e intentar iniciar sesión con credenciales incorrectas\n        page.goto(URL)\n        page.fill(\"input[name='user-name']\", \"error_user\")\n        page.fill(\"input[name='password']\", \"secret_sauce\")\n        page.click(\"input[name='login-button']\")\n    \n        # Verificar si el login fue exitoso\n        login_error = page.locator(\"h3[data-test='error']\").count()\n        assert login_error == 0, \"El usuario no pudo iniciar sesión correctamente.\"\n    \n        # Intentar agregar el producto Sauce Labs Bolt T-Shirt al carrito\n        try:\n            add_to_cart_button = page.locator(\"button[data-test='add-to-cart-sauce-labs-bolt-t-shirt']\")\n            assert add_to_cart_button.is_visible(), \"El botón para agregar al carrito no está disponible.\"\n            add_to_cart_button.click()\n    \n            updated_cart_count = page.locator(\".shopping_cart_badge\").inner_text() if page.locator(\".shopping_cart_badge\").count() > 0 else \"0\"\n            assert updated_cart_count == \"1\", f\"Se esperaba 1 producto en el carrito, pero se encontró {updated_cart_count}\"\n    \n        except Exception as e:\n            allure.attach(page.screenshot(), name=\"Error al agregar producto\", attachment_type=allure.attachment_type.PNG)\n>           pytest.fail(f\"No se pudo agregar el producto al carrito: {e}\")\nE           Failed: No se pudo agregar el producto al carrito: Se esperaba 1 producto en el carrito, pero se encontró 0\nE           assert '0' == '1'\nE             \nE             - 1\nE             + 0\n\ntests\\test_cart.py:132: Failed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1727197674735,"stop":1727197674735,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"base_url","time":{"start":1727197674735,"stop":1727197674735,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"delete_output_dir","time":{"start":1727197674735,"stop":1727197674736,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"pytestconfig","time":{"start":1727197674735,"stop":1727197674735,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"browser_type_launch","time":{"start":1727197712093,"stop":1727197712962,"duration":869},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"testStage":{"description":"Este test verifica que al agregar el producto Sauce Labs Bolt T-Shirt al carrito se obtiene un error.","status":"failed","statusMessage":"Failed: No se pudo agregar el producto al carrito: Se esperaba 1 producto en el carrito, pero se encontró 0\nassert '0' == '1'\n  \n  - 1\n  + 0","statusTrace":"browser_type_launch = <Browser type=<BrowserType name=firefox executable_path=C:\\Users\\Aquiles\\AppData\\Local\\ms-playwright\\firefox-1463\\firefox\\firefox.exe> version=130.0>\n\n    @pytest.mark.cart\n    @allure.title(\"Agregar Sauce Labs Bolt T-Shirt al carrito\")\n    @allure.description(\"Este test verifica que al agregar el producto Sauce Labs Bolt T-Shirt al carrito se obtiene un error.\")\n    @allure.tag(\"cart\", \"critical\")\n    def test_add_sauce_labs_bolt_tshirt_to_cart(browser_type_launch):\n        browser = browser_type_launch\n        context = browser.new_context(record_video_dir=\"videos/\")\n        page = context.new_page()\n    \n        # Ir a la página e intentar iniciar sesión con credenciales incorrectas\n        page.goto(URL)\n        page.fill(\"input[name='user-name']\", \"error_user\")\n        page.fill(\"input[name='password']\", \"secret_sauce\")\n        page.click(\"input[name='login-button']\")\n    \n        # Verificar si el login fue exitoso\n        login_error = page.locator(\"h3[data-test='error']\").count()\n        assert login_error == 0, \"El usuario no pudo iniciar sesión correctamente.\"\n    \n        # Intentar agregar el producto Sauce Labs Bolt T-Shirt al carrito\n        try:\n            add_to_cart_button = page.locator(\"button[data-test='add-to-cart-sauce-labs-bolt-t-shirt']\")\n            assert add_to_cart_button.is_visible(), \"El botón para agregar al carrito no está disponible.\"\n            add_to_cart_button.click()\n    \n            updated_cart_count = page.locator(\".shopping_cart_badge\").inner_text() if page.locator(\".shopping_cart_badge\").count() > 0 else \"0\"\n>           assert updated_cart_count == \"1\", f\"Se esperaba 1 producto en el carrito, pero se encontró {updated_cart_count}\"\nE           AssertionError: Se esperaba 1 producto en el carrito, pero se encontró 0\nE           assert '0' == '1'\nE             \nE             - 1\nE             + 0\n\ntests\\test_cart.py:128: AssertionError\n\nDuring handling of the above exception, another exception occurred:\n\nbrowser_type_launch = <Browser type=<BrowserType name=firefox executable_path=C:\\Users\\Aquiles\\AppData\\Local\\ms-playwright\\firefox-1463\\firefox\\firefox.exe> version=130.0>\n\n    @pytest.mark.cart\n    @allure.title(\"Agregar Sauce Labs Bolt T-Shirt al carrito\")\n    @allure.description(\"Este test verifica que al agregar el producto Sauce Labs Bolt T-Shirt al carrito se obtiene un error.\")\n    @allure.tag(\"cart\", \"critical\")\n    def test_add_sauce_labs_bolt_tshirt_to_cart(browser_type_launch):\n        browser = browser_type_launch\n        context = browser.new_context(record_video_dir=\"videos/\")\n        page = context.new_page()\n    \n        # Ir a la página e intentar iniciar sesión con credenciales incorrectas\n        page.goto(URL)\n        page.fill(\"input[name='user-name']\", \"error_user\")\n        page.fill(\"input[name='password']\", \"secret_sauce\")\n        page.click(\"input[name='login-button']\")\n    \n        # Verificar si el login fue exitoso\n        login_error = page.locator(\"h3[data-test='error']\").count()\n        assert login_error == 0, \"El usuario no pudo iniciar sesión correctamente.\"\n    \n        # Intentar agregar el producto Sauce Labs Bolt T-Shirt al carrito\n        try:\n            add_to_cart_button = page.locator(\"button[data-test='add-to-cart-sauce-labs-bolt-t-shirt']\")\n            assert add_to_cart_button.is_visible(), \"El botón para agregar al carrito no está disponible.\"\n            add_to_cart_button.click()\n    \n            updated_cart_count = page.locator(\".shopping_cart_badge\").inner_text() if page.locator(\".shopping_cart_badge\").count() > 0 else \"0\"\n            assert updated_cart_count == \"1\", f\"Se esperaba 1 producto en el carrito, pero se encontró {updated_cart_count}\"\n    \n        except Exception as e:\n            allure.attach(page.screenshot(), name=\"Error al agregar producto\", attachment_type=allure.attachment_type.PNG)\n>           pytest.fail(f\"No se pudo agregar el producto al carrito: {e}\")\nE           Failed: No se pudo agregar el producto al carrito: Se esperaba 1 producto en el carrito, pero se encontró 0\nE           assert '0' == '1'\nE             \nE             - 1\nE             + 0\n\ntests\\test_cart.py:132: Failed","steps":[],"attachments":[{"uid":"98112c1afa264183","name":"Error al agregar producto","source":"98112c1afa264183.png","type":"image/png","size":301516},{"uid":"ff734b0ece6ffb58","name":"Agregar Sauce Labs Bolt T-Shirt al carrito","source":"ff734b0ece6ffb58.mp4","type":"video/mp4","size":135222}],"parameters":[],"hasContent":true,"stepsCount":0,"attachmentStep":false,"attachmentsCount":2,"shouldDisplayMessage":true},"afterStages":[{"name":"browser_type_launch::0","time":{"start":1727197717817,"stop":1727197718413,"duration":596},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"browser","value":"firefox"},{"name":"tag","value":"cart"},{"name":"tag","value":"critical"},{"name":"tag","value":"cart"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_cart"},{"name":"host","value":"DESKTOP-RNKIPP2"},{"name":"thread","value":"22516-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cart"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_type_launch","value":"'firefox'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["critical","cart"]},"source":"b91034722496ba57.json","parameterValues":["'firefox'"]}